<textarea name='cmd' ></textarea>
<pre id='output'>
</pre>

<script>
	const input = document.querySelector('textarea');
	const output = document.querySelector('#output');
	

	document.addEventListener('DOMContentLoaded', () => {
		input.onkeydown = async (e) => {
		    console.log(e.target.value);
            if (e.key == 'Enter' && e.ctrlKey){
                let result = await run(e.target.value); 
                output.innerHTML = result
            }
	       	}
	})

	async function run(cmd) {
		return await fetch('/exec', {
					method: 'POST',
					body: cmd
        }).then(resp => resp.text())
		}
</script>
